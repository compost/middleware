# Main Application Configuration (Default Profile)

# Kafka Source Configuration
kafka.source.bootstrap.servers=${KAFKA_SOURCE_BOOTSTRAP_SERVERS:fck:9092}
kafka.source.security.protocol=${KAFKA_SOURCE_SECURITY_PROTOCOL:PLAINTEXT}
kafka.source.concurrency=${KAFKA_SOURCE_CONCURRENCY:50}
kafka.source.topic=${KAFKA_SOURCE_TOPIC:source-topic}

# Kafka Target Configuration
kafka.target.bootstrap.servers=${KAFKA_TARGET_BOOTSTRAP_SERVERS:shit:9093}
kafka.target.security.protocol=${KAFKA_TARGET_SECURITY_PROTOCOL:PLAINTEXT}
kafka.target.topic=${KAFKA_TARGET_TOPIC:target-topic}

# Mirror Configuration
mirror.consumer.group.id=${MIRROR_CONSUMER_GROUP_ID:kafka-mirror-group}

# MicroProfile Messaging - Incoming Source
mp.messaging.incoming.source.connector=smallrye-kafka
mp.messaging.incoming.source.bootstrap.servers=${kafka.source.bootstrap.servers}
mp.messaging.incoming.source.group.id=${mirror.consumer.group.id}
mp.messaging.incoming.source.topic=${kafka.source.topic}
mp.messaging.incoming.source.auto.offset.reset=earliest
mp.messaging.incoming.source.security.protocol=${kafka.source.security.protocol}
mp.messaging.incoming.source.concurrency=${kafka.source.concurrency}
mp.messaging.incoming.source.fetch.min.bytes=50000
mp.messaging.incoming.source.fetch.max.wait.ms=500
mp.messaging.incoming.source.max.poll.records=1000
mp.messaging.incoming.source.session.timeout.ms=30000
mp.messaging.incoming.source.heartbeat.interval.ms=3000

# MicroProfile Messaging - Outgoing Target
mp.messaging.outgoing.target.connector=smallrye-kafka
mp.messaging.outgoing.target.bootstrap.servers=${kafka.target.bootstrap.servers}
mp.messaging.outgoing.target.topic=${kafka.target.topic}
mp.messaging.outgoing.target.security.protocol=${kafka.target.security.protocol}
mp.messaging.outgoing.target.batch.size=100000
mp.messaging.outgoing.target.linger.ms=100
mp.messaging.outgoing.target.acks=1
mp.messaging.outgoing.target.retries=3
mp.messaging.outgoing.target.buffer.memory=134217728

# Quarkus Container Image Configuration
quarkus.container-image.registry=centralregistry.azurecr.io
quarkus.container-image.group=kafka-mirror-group
quarkus.container-image.name=kafka-mirror
quarkus.container-image.tag=${quarkus.application.version:latest}
quarkus.container-image.push=true
quarkus.container-image.builder=jib

# Health Check Configuration
quarkus.smallrye-health.ui.enable=true

# Logging Configuration
quarkus.log.level=WARN
quarkus.log.category."io.symplify".level=INFO
quarkus.log.console.json=true
quarkus.log.console.json.additional-field.serviceName.value=${mirror.consumer.group.id}
