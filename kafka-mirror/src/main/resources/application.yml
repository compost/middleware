# Main Application Configuration (Default Profile)
kafka:
  source:
    bootstrap:
      servers: "${KAFKA_SOURCE_BOOTSTRAP_SERVERS:localhost:9092}"
    security:
      protocol: "${KAFKA_SOURCE_SECURITY_PROTOCOL:PLAINTEXT}"
    topic: "${KAFKA_SOURCE_TOPIC:source-topic}"
  
  target:
    bootstrap:
      servers: "${KAFKA_TARGET_BOOTSTRAP_SERVERS:localhost:9093}"
    security:
      protocol: "${KAFKA_TARGET_SECURITY_PROTOCOL:PLAINTEXT}"
    topic: "${KAFKA_TARGET_TOPIC:target-topic}"

mirror:
  consumer:
    group:
      id: "${MIRROR_CONSUMER_GROUP_ID:kafka-mirror-group}"

mp:
  messaging:
    incoming:
      source:
        connector: "smallrye-kafka"
        bootstrap:
          servers: "${kafka.source.bootstrap.servers}"
        group:
          id: "${mirror.consumer.group.id}"
        topic: "${kafka.source.topic}"
        auto:
          offset:
            reset: "earliest"
        security:
          protocol: "${kafka.source.security.protocol}"
    
    outgoing:
      target:
        connector: "smallrye-kafka"
        bootstrap:
          servers: "${kafka.target.bootstrap.servers}"
        topic: "${kafka.target.topic}"
        security:
          protocol: "${kafka.target.security.protocol}"

quarkus:
  smallrye-health:
    root-path: "/health"
  
  log:
    console:
      json: true
      json:
        additional-field:
          serviceName:
            value: "kafka-mirror-default"

# Profile Usage Examples:
# - Default profile: Use localhost Kafka clusters (development)
# - Greenfeather profile: Use production Kafka clusters with specific IPs and topics
#   Run with: java -Dquarkus.profile=greenfeather -jar target/quarkus-app/quarkus-run.jar
#   Or set environment variable: QUARKUS_PROFILE=greenfeather