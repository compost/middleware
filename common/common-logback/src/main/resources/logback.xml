<?xml version="1.0" encoding="UTF-8" ?>
<configuration >
  <statusListener class="ch.qos.logback.core.status.NopStatusListener" />
    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
       <encoder class="ch.qos.logback.classic.encoder.JsonEncoder"/>
    </appender>
      <appender name="loggly" class="ch.qos.logback.ext.loggly.LogglyBatchAppender">
        <endpointUrl>https://logs-01.loggly.com/bulk/${LOGGLY_TOKEN}/tag/middleware,${LOGGLY_TAGS}</endpointUrl>
      <layout class="ch.qos.logback.contrib.json.classic.CustomJsonLayout">
             <timestampFormat>yyyy-MM-dd'T'HH:mm:ss.SSSX</timestampFormat>
                <timestampFormatTimezoneId>Etc/UTC</timestampFormatTimezoneId>
        <jsonFormatter class="ch.qos.logback.contrib.jackson.JacksonJsonFormatter"/>
    </layout>
  </appender>
  <logger name="com.jada" level="INFO">
    <appender-ref ref="loggly" />
  </logger>
    <root level="ERROR">
        <appender-ref ref="console" />
    </root>
</configuration>
